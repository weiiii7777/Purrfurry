:root {
  --bg: #f6f4f1;
  --ink: #1a1a1a;
  --header-h: 6.25rem; /* 100px fixed header (hamburger row) */
  --landing-min-h: 36rem; /* min landing height */
  --landing-max-h: 54rem; /* max landing height */
  --page-x: 1rem; /* horizontal page gutter */
  --nav-w: 6.25rem; /* hamburger visual width for safe gutter */
}

html, body, #root {
  height: 100%;
}

.app-root {
  min-height: 100%;
  background: var(--bg);
  color: var(--ink);
  padding-top: 6.25rem; /* reserve 100px header space for hamburger row */
  padding-left: max(var(--page-x), var(--nav-w));
  padding-right: max(var(--page-x), var(--nav-w));
}
/* remove body scroll lock on app-root; handled via body inline styles in App.jsx */

.landing {
  position: relative;
  /* occupy viewport height (vh) minus fixed header, content centered inside */
  height: calc(100vh - var(--header-h));
  display: grid;
  grid-template-columns: auto minmax(15rem, 1fr) minmax(0, 40rem); /* left | center min (logo 15rem) | right max 40rem */
  column-gap: 1.5rem; /* 24px */
  align-items: center;
  overflow-x: hidden;
  /* Exempt right page gutter so the event carousel touches the viewport edge */
  margin-right: calc(-1 * max(var(--page-x), var(--nav-w)));
  padding-right: 0;
}

/* RWD: 保護活動資料卡不被壓縮 */
@media (max-width: 1200px) {
  .landing {
    grid-template-columns: auto 1fr minmax(320px, 40rem); /* 確保右側卡片最小寬度 320px */
  }
}

/* 左側標題文字樣式 - 直式排列 */
.left-title {
  display: flex;
  align-items: flex-start;
  justify-content: flex-start;
  padding-left: 0;
  margin-left: 0;
}

.title-text {
  text-align: left;
  line-height: 1.2;
  writing-mode: vertical-rl;
  text-orientation: upright;
}

.title-year {
  font-size: 1.2rem;
  color: #000;
  margin-bottom: 2rem;
  font-weight: 400;
}

.title-main {
  font-size: 1.2rem;
  color: #000;
  font-weight: 400;
  margin: 0;
}

/* Logo 顯示邏輯 */

/* 大螢幕：顯示中央 logo，隱藏 header logo */
@media (min-width: 1201px) {
  .center-logo {
    display: flex;
  }
  
  #header-logo-slot {
    display: none;
  }
}

/* 小螢幕：隱藏中央 logo，顯示 header logo */
@media (max-width: 1200px) {
  .center-logo {
    display: none !important;
  }
  
  #header-logo-slot {
    display: flex !important;
  }
}

/* 當螢幕縮小時，調整活動資料卡為窄長方形 */
@media (max-width: 1000px) {
  .event-card {
    aspect-ratio: 400 / 300; /* 更窄的長方形比例 */
    border-radius: 1rem 0 0 1rem; /* 調整圓角 */
    padding: clamp(1rem, 2vw, 1.5rem); /* 減少內邊距 */
  }
  
  .landing {
    grid-template-columns: auto 1fr minmax(280px, 35rem); /* 減少右側卡片最小寬度 */
  }
  
  /* 問卷部分中等屏幕調整 */
  .intro-copy {
    padding-right: 10rem;
  }
  
  .intro-illus {
    width: clamp(120px, 15vw, 200px);
  }
  
  .illus-person {
    right: 1rem;
  }
}

@media (max-width: 800px) {
  .event-card {
    aspect-ratio: 350 / 250; /* 更窄的長方形 */
    border-radius: 0.75rem 0 0 0.75rem;
    padding: clamp(0.75rem, 1.5vw, 1.25rem);
  }
  
  /* 問卷部分RWD調整 */
  .intro-section {
    padding: 2rem 1rem 3rem;
  }
  
  .intro-inner {
    font-size: clamp(0.8rem, 3vw, 1rem);
  }
  
  .intro-copy {
    padding-right: 0;
    text-align: left; /* 保持文字置左對齊 */
  }
  
  .intro-illus {
    position: relative;
    width: clamp(100px, 25vw, 200px);
    margin: 0.8rem auto 0;
    display: block;
  }
  
  .illus-person {
    right: auto;
    top: auto;
  }
}
  
  .landing {
    grid-template-columns: auto 1fr minmax(250px, 30rem); /* 進一步減少寬度 */
  }

.intro-section { padding: 3rem 1.5rem 4rem; }
.intro-inner { 
  max-width: 56rem; 
  margin: 0 auto; 
  text-align: left; 
  line-height: 1.8; 
  font-size: clamp(0.9rem, 2.5vw, 1.1rem); /* 字體大小隨畫面縮小 */
  color: var(--ink); 
  position: relative; 
}
.intro-copy { position: relative; padding-right: 14rem; /* 從10rem調整到14rem，給圖片和文字適當距離 */ }
.intro-copy p { 
  margin: 0.2rem 0; 
  letter-spacing: 0.15em; 
  /* 添加響應式縮放 */
  margin: clamp(0.1rem, 0.5vw, 0.2rem) 0; /* 間距隨畫面縮小 */
  letter-spacing: clamp(0.1em, 0.3vw, 0.15em); /* 字間距隨畫面縮小 */
}
.intro-illus { 
  width: 250px; 
  height: auto; 
  position: absolute; 
  max-width: 100%; /* 確保圖片不會超出容器 */
  object-fit: contain; /* 保持圖片比例 */
  /* 添加響應式縮放 */
  width: clamp(150px, 20vw, 250px); /* 使用clamp讓圖片自然縮放 */
}
/* Ball at left of dog */
.illus-ball { right: 9rem; top: 0.5rem; }
/* Dog centered vertically */
.illus-dog { right: 6rem; top: 2.5rem; }
/* Person at far right */
.illus-person { right: 0rem; top: 0.2rem; }
.btn-outline {
  margin-top: 1.25rem;
  padding: 0.875rem 1.75rem; /* 14px 28px - 縮小內邊距 */
  font-size: 1rem; /* 16px - 縮小字體 */
  border: 2px solid #C7C7C7;
  background: transparent;
  border-radius: 50px;
  color: var(--ink);
  cursor: pointer;
  transition: background-color 180ms ease, color 180ms ease, border-color 180ms ease, transform 140ms ease;
  will-change: transform;
  display: inline-flex; /* normalize <a> and <button> */
  align-items: center;
  justify-content: center;
  text-decoration: none; /* remove underline for <a> */
  vertical-align: middle; /* avoid baseline shift */
  box-sizing: border-box;
}
.btn-outline:link, .btn-outline:visited { text-decoration: none; color: var(--ink); }
.btn-outline:hover { background: #000; color: #fff; border-color: #000; transform: scale(1.03); text-decoration: none; }
.btn-outline:active { transform: scale(0.985); }

/* Back-to-top button */
.back-to-top {
  position: fixed;
  right: 1.25rem;
  bottom: 1.25rem;
  width: 3rem;
  height: 3rem;
  border-radius: 9999px;
  border: 2px solid #000;
  background: transparent;
  color: #000;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  opacity: 0;
  pointer-events: none;
  transition: background-color 180ms ease, color 180ms ease, border-color 180ms ease, opacity 200ms ease, transform 160ms ease;
  z-index: 1100;
}
.back-to-top i { font-size: 1.4rem; line-height: 1; }
.back-to-top.show { opacity: 1; pointer-events: auto; }
.back-to-top:hover { background: #000; color: #fff; border-color: #000; transform: translateY(-2px); }
.back-to-top:active { transform: translateY(0); }

/* Feature blocks */
.feature { padding: 4rem 1.5rem; }
.feature-container { max-width: 64rem; margin: 0 auto; display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; align-items: center; }
.feature-media { position: relative; }
.feature-bg { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: contain; opacity: 0.25; }
.feature-img { position: relative; width: 100%; height: auto; }
.feature-title { font-size: 2rem; margin: 0 0 0.5rem; line-height: 1; }
.feature-titleline { display: flex; align-items: flex-end; gap: 0.75rem; }
.feature-no { font-size: 2.5rem; font-weight: 700; letter-spacing: 0.1em; color: var(--ink); opacity: 0.9; line-height: 1.2; }
.feature-sub { font-size: 1.25rem; margin: 0 0 1rem; }
.feature-desc { margin: 0 0 1rem; line-height: 1.8; }

/* Scroll-in animations */
.slide-from-left, .slide-from-right { opacity: 0; transform: translateX(0); transition: transform 600ms ease, opacity 600ms ease; }
.slide-from-left { transform: translateX(-48px); }
.slide-from-right { transform: translateX(48px); }
.slide-in { opacity: 1; transform: translateX(0); }
.feature-media.slide-from-left { transition-delay: 80ms; }
.feature-copy.slide-from-left { transition-delay: 160ms; }
.feature-media.slide-from-right { transition-delay: 80ms; }
.feature-copy.slide-from-right { transition-delay: 160ms; }

/* Adopt page styles moved to src/pages/Adopt.css */
.left-title {
  grid-column: 1; /* first track (left content) */
  position: static;
  justify-self: start;
  align-self: center;
  margin-left: 0;
}
.left-title img {
  width: 6.25rem; /* 100px */
  object-fit: contain;
}

.center-logo {
  grid-column: 2; /* center block */
  display: flex;
  justify-content: center; /* center within the spanned space */
  position: relative;
  min-width: 0; /* allow middle track to shrink without overflow pushing right off-screen */
}
.right-card {
  grid-column: 3; /* right block */
  display: flex;
  justify-content: flex-start;
  position: relative;
  right: 0;
  flex-direction: column;
  align-items: flex-end;
  justify-self: end; /* keep pinned to right edge */
  width: 100%;
  max-width: 40rem; /* cap card width to avoid squeezing center logo */
}

.event-card {
  width: 100%;
  aspect-ratio: 800 / 550;
  background: radial-gradient(ellipse at 60% 60%, rgba(237, 212, 150, 0.55), rgba(237, 212, 150, 0) 60%), #fff;
  border-radius: 12.5rem 0 0 12.5rem;
  border-top: 0.125rem solid #000; /* 2px */
  border-bottom: 0.125rem solid #000;
  border-left: 0.125rem solid #000;
  box-shadow: none;
  padding: clamp(1.25rem, 3.2vw, 2rem); /* 20-32px */
  position: relative;
  overflow: hidden;
  font-size: clamp(0.875rem, 1vw, 1rem); /* 14-16px base for rem scaling */
}

.event-inner { width: 100%; height: 100%; display: flex; flex-direction: column; }
.event-image-wrap { width: 100%; display: flex; justify-content: center; }
.clickable { cursor: pointer; }
.event-viewport { position: relative; overflow: hidden; width: 100%; height: 100%; }
.event-track { display: flex; width: 100%; height: 100%; transition: transform 600ms cubic-bezier(0.22, 1, 0.36, 1); will-change: transform; }
.event-track.no-anim { transition: none; }
.event-slide { flex: 0 0 100%; width: 100%; height: 100%; display: flex; }
.event-inner { position: relative; width: 100%; display: flex; flex-direction: column; }

.card-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 2.75rem; /* 44px */
  height: 2.75rem;
  border-radius: 50%;
  border: 0.125rem solid #000; /* 2px */
  background: #fff;
  color: #000;
  opacity: 0.9;
  cursor: pointer;
  z-index: 3;
  transition: background-color 220ms ease, color 220ms ease, border-color 220ms ease, box-shadow 220ms ease;
}
.card-nav.left { left: 1rem; } /* 16px */
.card-nav.right { right: 1rem; }
.card-nav i { font-size: 1.5rem; line-height: 1; transition: color 220ms ease; }
.card-nav:hover { opacity: 1; background: #000; color: #fff; }
.menu-open .card-nav { display: none; }

.card-dots {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 2.5rem; /* 40px */
  display: flex;
  justify-content: center;
  gap: 0.625rem; /* 10px */
}
.dot {
  width: 0.5rem; /* 8px */
  height: 0.5rem;
  border-radius: 50%;
  background: #ddd;
  border: none;
  cursor: pointer;
}
.dot.active { background: #000; }

.event-image {
  width: 50%;
  aspect-ratio: 16 / 9;
  object-fit: cover;
  border-radius: clamp(1.25rem, 3.5vw, 2.5rem); /* 20-40px */
  display: block;
  margin: 0 auto;
}

.event-content {
  margin-top: 1.25rem; /* 20px */
  width: 50%;
  margin-left: auto;
  margin-right: auto;
  text-align: left;
}
.event-content h3 {
  margin: 0 0 0.5em 0;
  font-size: 1.5rem;
}
.event-date {
  display: flex;
  align-items: flex-end;
  gap: 1rem; /* 16px */
}
.event-date .big {
  font-size: 3.5rem; /* scales with root */
  line-height: 1;
  letter-spacing: 0.125rem; /* 2px */
}
.event-date .meta { font-size: 1rem; line-height: 1.2; }
.event-place { margin-top: 0.6em; font-size: 1.25rem; }
.center-logo .logo-wrap {
  position: relative;
  transform: none;
}
.center-logo img, .noise_animation {
  width: 20rem; /* ensure the new narrower asset width applies */
  height: auto;
  transform-origin: 50% 60%;
  /* noise animation base per request */
  animation: desktop_noise_animation 1s steps(1, end) infinite;
  will-change: filter;
  transform: translate3d(0, 0px, 0px);
  position: relative;
  z-index: 1;
}

/* Explicit class hook as提供 */
.logo {
  animation: desktop_noise_animation 0.1s steps(1, end) infinite;
  will-change: filter, transform;
  transform: translate3d(0, 0, 0);
}

@keyframes logo-sway {
  0% { transform: translateY(0) rotate(0deg) scale(1); }
  10% { transform: translateY(-0.125rem) rotate(-0.8deg) scale(1.002); }
  20% { transform: translateY(0.0625rem) rotate(0.6deg) scale(1); }
  30% { transform: translateY(-0.0625rem) rotate(-0.6deg) scale(1.001); }
  40% { transform: translateY(0.125rem) rotate(0.5deg) scale(1); }
  50% { transform: translateY(0) rotate(0deg) scale(1); }
  60% { transform: translateY(0.125rem) rotate(0.7deg) scale(1.001); }
  70% { transform: translateY(-0.125rem) rotate(-0.7deg) scale(1); }
  80% { transform: translateY(0.0625rem) rotate(0.4deg) scale(1); }
  90% { transform: translateY(-0.0625rem) rotate(-0.4deg) scale(1); }
  100% { transform: translateY(0) rotate(0deg) scale(1); }
}

/* Ensure the noise animation is always applied; remove duplicate rules to avoid overrides */

@keyframes desktop_noise_animation {
  /* 非等距節點，避免規律感 */
  0%   { filter: url(#noise-0); -webkit-filter: url(#noise-0); }
  17%  { filter: url(#noise-1); -webkit-filter: url(#noise-1); }
  39%  { filter: url(#noise-2); -webkit-filter: url(#noise-2); }
  63%  { filter: url(#noise-3); -webkit-filter: url(#noise-3); }
  100% { filter: url(#noise-4); -webkit-filter: url(#noise-4); }
}


.top-right {
  position: absolute;
  top: 1rem; /* 16px */
  right: 1rem;
}

.fixed-top-right {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 6.25rem; /* 100px */
  display: flex;
  align-items: center;
  justify-content: flex-end;
  padding: 0 var(--page-x);
  z-index: 3;
  pointer-events: none; /* let only the button receive events */
}

.hamburger {
  background: transparent;
  border: none;
  padding: 0;
  cursor: pointer;
  pointer-events: auto;
  position: relative;
  z-index: 10;
}
.hamburger img {
  width: 6.25rem; /* 100px */
  height: 6.25rem;
}

/* slot for animated logo to attach when pinned */
#header-logo-slot { 
  display: none;
  align-items: center;
  height: 100%;
  pointer-events: auto;
  position: absolute;
  left: 1rem;
  top: 50%;
  transform: translateY(-50%);
  z-index: 1;
  order: -1; /* 確保在左邊 */
}
.header-home-link { display: inline-flex; align-items: center; height: 100%; pointer-events: auto; cursor: pointer; }
.header-home-link img { 
  height: 70%; 
  width: auto; 
  display: block; 
  transform: none !important; 
  animation: none !important;
  transition: none !important;
}

/* Overlay menu */
.overlay {
  position: fixed;
  inset: -1px; /* stretch 1px to avoid hairline gaps during rubber-band scroll */
  background: var(--bg);
  pointer-events: none;
  opacity: 0;
  transition: opacity 200ms ease;
  z-index: 1000;
}
.overlay:not(.open) { display: none; }
.overlay.open {
  opacity: 1;
  pointer-events: auto;
}
.overlay-toolbar { position: absolute; top: 0; left: 0; right: 0; height: 6.25rem; display: flex; align-items: center; justify-content: space-between; gap: 0.5rem; padding: 0 1rem; z-index: 2; pointer-events: none; }
.overlay-right { display: flex; align-items: center; gap: 0.5rem; pointer-events: auto; }
.overlay-right .overlay-auth-btn { position: relative; z-index: 3; }
.overlay-right .overlay-close { position: relative; z-index: 2; }
.overlay-toolbar .overlay-auth-btn,
.overlay-toolbar .overlay-close,
.overlay-toolbar .user-trigger,
.overlay-toolbar .user-menu,
.overlay-toolbar .overlay-logo { pointer-events: auto; }
.overlay-logo { display: inline-flex; align-items: center; height: 100%; }

/* 在大螢幕時隱藏 overlay logo，避免與中央 logo 衝突 */
/* 但當漢堡選單開啟時，應該顯示 overlay logo */
@media (min-width: 1201px) {
  .overlay.open .overlay-logo {
    display: inline-flex !important;
  }
  
  .overlay:not(.open) .overlay-logo {
    display: none !important;
  }
}
.overlay-logo img { height: 70%; width: auto; display: block; }
.overlay-auth-btn { border: 1px solid #000; padding: 0.375rem 0.625rem; border-radius: 9999px; text-decoration: none; color: #000; background: #fff; font-size: 0.875rem; transform: translate(8px, 4px); }
.overlay-user { position: relative; }
.user-trigger { display: inline-flex; align-items: center; gap: 0.5rem; background: #fff; border: 1px solid #000; border-radius: 9999px; padding: 0.375rem 0.75rem; cursor: pointer; }
.user-trigger .avatar { width: 1.75rem; height: 1.75rem; border-radius: 9999px; background: #000; color: #fff; display: inline-block; overflow: hidden; }
.user-trigger .avatar img { width: 100%; height: 100%; object-fit: cover; display: block; border-radius: 9999px; }
.avatar-mini-empty { width: 100%; height: 100%; background: linear-gradient(135deg, #eaeaea, #dcdcdc); border-radius: 9999px; display: block; position: relative; }
.avatar-mini-empty::after { content: ''; position: absolute; inset: 20% 28% 28% 28%; border-radius: 9999px; border: 2px solid #c8c8c8; border-top-color: transparent; }
.user-trigger .uname { max-width: 8rem; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.user-menu { position: absolute; top: 3rem; right: 0; left: auto; background: #fff; border: 1px solid #e6e6e6; border-radius: 10px; box-shadow: 0 6px 20px rgba(0,0,0,0.08); z-index: 1; }
.user-menu button { 
  width: 100%; 
  text-align: left; 
  background: transparent; 
  border: none; 
  padding: 0.5rem 1rem; 
  cursor: pointer; 
}
.bx.rot { transform: rotate(180deg); transition: transform 160ms ease; }
.overlay-inner {
  position: absolute;
  inset: 0;
  width: 100%;
  background: var(--bg);
  padding: 4rem 3rem; /* 64px 48px */
  z-index: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  background-image: none;
  height: 100%;
  overflow: auto;
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;
}
.overlay-close {
  position: absolute;
  top: 1rem;
  right: 1rem;
  width: 6.25rem;
  height: 6.25rem;
  background: transparent;
  border: none;
  cursor: pointer;
  z-index: 2;
}
.overlay-close img { width: 100%; height: 100%; object-fit: contain; }

.menu-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  width: min(42rem, 90vw);
}
.menu-list h3 {
  margin: 1.5rem 0 0.5rem; /* 24px 0 8px */
}
.menu-list a {
  color: var(--ink);
  text-decoration: none;
  font-size: 1.125rem; /* 18px */
  line-height: 1.9;
}
.menu-list a:hover { text-decoration: underline; }

/* section heading style */
.menu-list .menu-heading {
  font-size: 1.5rem;
  font-weight: 800;
  margin-top: 1.5rem;
  line-height: 1.2;
}


.page {
  min-height: 100vh;
  display: grid;
  place-items: center;
  text-align: center;
}
.page-path {
  color: #666;
}

/* Layout reflow (no scaling): switch to stacked layout when space is tight */
/* remove reflow for now per request */

/* Footer */
.app-footer {
  height: 100px;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  background: #F1ECE5;
  border-top: 1px solid #e9ecef;
  margin-top: auto;
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
  width: 100vw;
  padding: 0 var(--page-x);
  box-sizing: border-box;
}

.app-footer p {
  font-size: 12px;
  color: #000;
  margin: 0 0 20px 0;
  text-align: center;
}
